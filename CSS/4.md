### Объясните, что такое z-index и как формируется контекст наложения.

Любой элемент в HTML документе может быть либо на переднем, либо на заднем плане. Если свойства z-index и позиционирование не заданы явно, то порядок наложения равен порядку следования элементов в HTML. 

Если позиционирование элементов (и их детей) указано явно, то такие элементы будут перекрывать собой элементы без явно заданного свойства позиционирования.

1. **z-index учитывается только на явно позиционированных элементах**.   
Если попытаться установить z-index на непозиционированный элемент, то ничего не произойдет.
2. **значения z-index могут создавать контекст наложения**.

**Контекст наложения**

  **```Контекст наложения```**  _это концепция трёхмерного расположения HTML-элементов вдоль оси Z по отношению к пользователю, находящемуся перед экраном. Элементы с общими родителями, перемещающиеся на передний или задний план вместе, известны как контекст наложения._

Контекст наложения имеет свой корневой элемент в HTML структуре. В момент формирования нового контекста на элементе все дочерние элементы также попадают в этот контекст и занимают своё место в порядке наложения. Если элемент располагается в самом низу одного контекста наложения, то никаким образом не получится отобразить его над другим элементом в соседнем контексте наложения, располагающимся выше по иерархии, даже с установленным z-index равным миллиону.

_Новый контекст_ может быть сформирован в следующих случаях:

- Если элемент — корневой элемент документа
- Если элемент позиционирован не статически и его значение z-index не равно auto.
- Если элемент имеет прозрачность менее 1.

_Итого_:  

  - Позиционирование и присваивание HTML-элементам свойства z-index создаёт контекст наложения, (так же как и присваивание элементу opacity меньше 1).
  - Контексты наложения могут быть частью других контекстов наложения и вместе создавать иерархию контекстов наложения.
  - Каждый контекст наложения абсолютно независим от своего соседа: только подчинённые элементы учитываются при обработке контекста наложения.

_Порядок наложения_:

1. Background и border элемента.
2. Позиционированные элементы и его дети с z-index < 0.
3. Элементы блочного уровня в нормальном потоке, то есть у которых position = static.
4. Плавающие(float) элементы.
5. inline-элементы.
6. Элементы с z-index = 0 или auto. Элементы со свойством opacity < 1.



**```EN```** stacking context
